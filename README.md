# CryptoWatcher API

API для отслеживания стоимости криптовалют. Позволяет добавлять, удалять и получать актуальные данные о ценах криптовалют.

---

## Оглавление
1. [Описание](#описание)
2. [Установка и запуск](#установка-и-запуск)
3. [Использование API](#использование-api)
    - [Добавить валюту](#добавить-валюту)
    - [Получить цену валюты](#получить-цену-валюты)
    - [Удалить валюту](#удалить-валюту)
4. [Примеры запросов](#примеры-запросов)

---

## Описание

CryptoWatcher API предоставляет возможность отслеживать стоимость криптовалют. API позволяет:
- Добавлять криптовалюты для отслеживания.
- Получать цену криптовалюты на определенный момент времени.
- Удалять криптовалюты из списка отслеживаемых.

API использует Swagger для документации и поддерживает стандартные HTTP-методы.

---

## Установка и запуск

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/miorlan/cryptowatcher-api.git
   cd cryptowatcher-api
2. **Установите зависимости:**
    ```bash 
    go mod download
3. **Запустите сервер:**
    ```bash   
    go run cmd/server/main.go

4. **Документация API:**
    После запуска сервера документация будет доступна по адресу:  
    http://localhost:8080/api/v1/docs

---

## Использование API
### Добавить валюту
**Добавляет новую криптовалюту для отслеживания.**
**Endpoint:**
    POST /currency/add

**Пример запроса:**
```json
    {
       "coin": "bitcoin"
    }
```
**Пример ответа:**
```json
    {
        "message": "Currency added"
    }
```
### Получить цену валюты
**Возвращает цену криптовалюты на указанный момент времени.**

**Endpoint:**
    GET /currency/price
**Пример запроса:**
```json
    {
     "coin": "bitcoin",
     "timestamp": 1638316800
    }
```

**Пример ответа:**
```json
    {
     "price": 97675
    }
```

### Удалить валюту
**Удаляет криптовалюту из списка отслеживаемых.**

**Endpoint:**
    POST /currency/remove

**Пример запроса:**
```json
    {
     "coin": "bitcoin"
    }
```

**Пример ответа:**
```json
    {
     "message": "Currency removed"
    }
```
## Примеры запросов
**Использование cURL**

**Добавить валюту:**
```bash
curl -X POST "http://localhost:8080/api/v1/currency/add" \
-H "Content-Type: application/json" \
-d '{"coin": "bitcoin"}'
```

**Получить цену валюты:**
```bash
curl -X GET "http://localhost:8080/api/v1/currency/price" \
-H "Content-Type: application/json" \
-d '{"coin": "bitcoin", "timestamp": 1638316800}'
```

**Удалить валюту:**
```bash
curl -X POST "http://localhost:8080/api/v1/currency/remove" \
-H "Content-Type: application/json" \
-d '{"coin": "bitcoin"}'
```
